<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dynamic Routing for Marine Debris Â· Greedy + Retargeting</title>
  <meta name="description" content="Clean, copyâ€‘paste site of your implemented method: Î±â€‘weighted greedy selection with simple retargeting. Includes data explanation, equations, slider, media, and comments." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- MathJax for equations (simple numbering) -->
  <script>window.MathJax={tex:{tags:'all',inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},chtml:{matchFontHeight:false}};</script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    :root{--bg:#0b1220;--panel:#0c152b;--text:#e5e7eb;--muted:#9fb3e3;--line:#1b2a4d;--brand:#60a5fa}
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(1200px 800px at 80% -10%, rgba(96,165,250,.12), transparent 60%),radial-gradient(1000px 700px at -10% 30%, rgba(14,165,233,.12), transparent 60%),var(--bg);color:var(--text);font-family:Inter,system-ui;line-height:1.55}
    a{color:var(--brand)}
    header.hero{padding:56px 16px 18px;text-align:center}
    .title{font-size:clamp(28px,6vw,48px);margin:0 0 8px;font-weight:800}
    .subtitle{max-width:980px;margin:0 auto;color:var(--muted)}

    nav.tabs{position:sticky;top:0;z-index:10;backdrop-filter:saturate(160%) blur(8px);background:rgba(10,17,33,.7);border-bottom:1px solid #172036}
    nav.tabs .wrap{max-width:1200px;margin:auto;display:flex;gap:8px;padding:10px}
    nav.tabs button{flex:1 1 auto;min-width:120px;background:#0d162b;color:#bcd1ff;border:1px solid #1a2540;padding:12px;border-radius:10px;cursor:pointer;font-weight:700}
    nav.tabs button.active{background:linear-gradient(135deg,rgba(59,130,246,.3),rgba(6,182,212,.3));border-color:#23406e}

    main{max-width:1200px;margin:0 auto;padding:22px 16px 80px}
    section{display:none}
    section.active{display:block}
    .grid{display:grid;gap:16px}
    .two-col{display:grid;gap:16px;grid-template-columns:1.15fr .85fr}
    @media (max-width: 920px){.two-col{grid-template-columns:1fr}}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}
    .equation{background:#0b1429;border:1px dashed #203258;border-radius:12px;padding:10px 12px;margin:10px 0}
    .media{position:relative;width:100%;overflow:hidden;border-radius:16px;border:1px solid #213357;background:#0a1326}
    .media::after{content:"";display:block;padding-bottom:56.25%}
    .media>*{position:absolute;inset:0;width:100%;height:100%;border:0}
    pre{background:#0b1429;border:1px solid #203258;border-radius:12px;padding:12px;overflow:auto}
    .muted{color:var(--muted)}
    .tag{display:inline-block;padding:.3rem .6rem;border:1px solid #203258;border-radius:999px;color:#b8c7ee;margin:2px;font-size:12px}
  </style>
</head>
<body>

<header class="hero">
  <h1 class="title">Dynamic Routing for Marine Debris</h1>
  <p class="subtitle">Your implemented approach: <strong>Î±â€‘weighted greedy</strong> selection with <strong>simple retargeting</strong> under ocean drift. Clean, minimal math and practical explanations.</p>
</header>

<nav class="tabs" aria-label="Sections">
  <div class="wrap">
    <button data-tab="problem" class="active">ğŸ“ Problem</button>
    <button data-tab="math">ğŸ“ Math</button>
    <button data-tab="logic">ğŸ§  Logic</button>
    <button data-tab="comparison">ğŸ“Š Comparison</button>
    <button data-tab="video">ğŸ¥ Video</button>
    <button data-tab="paper">ğŸ“„ Paper</button>
    <button data-tab="comments">ğŸ’¬ Comments</button>
  </div>
</nav>

<main>
  <!-- PROBLEM -->
  <section id="problem" class="active">
    <div class="two-col">
      <div class="card">
        <h2>ğŸ“ Problem description</h2>
        <p>Plastic hotspots drift with surface currents. We control one or more vessels that move with their own speed plus drift. Each hotspot has a position and a value (proportional to mass/size). Goal: maximize total collected value within the simulation horizon.</p>
        <div class="tag">Greedy</div><div class="tag">Reactive</div><div class="tag">OpenDrift currents</div><div class="tag">No depot</div>
      </div>
      <div class="card">
        <h3>Figure</h3>
        <div class="media"><img src="Bildschirmfoto 2025-08-06 um 12.10.13.png" alt="Greedy tradeâ€‘offs" style="object-fit:cover"></div>
        <p class="muted">Proximityâ€‘only vs valueâ€‘only vs a balanced Î± mix.</p>
      </div>
    </div>
  </section>

  <!-- MATH -->
  <section id="math">
    <div class="card">
      <h2>ğŸ“ Math (Î±â€‘score, motion, retargeting)</h2>
      <p><strong>Motion (discrete time):</strong></p>
      <div class="equation">\( q_k(t{+}1) = q_k(t) + v_k u_k(t) \Delta t + c(q_k(t),t) \Delta t \)</div>
      <div class="equation">\( p_i(t{+}1) = p_i(t) + c(p_i(t),t) \Delta t \)</div>
      <p><strong>Collection rule:</strong> collected when \(\lVert q_k(t)-p_i(t)\rVert \le \varepsilon\); then value \(v_i \to 0\) and hotspot is removed.</p>
      <p><strong>Greedy score (normalized):</strong></p>
      <div class="equation">\( S_i = \alpha\Big(1 - \tfrac{d_i}{d_{\max}}\Big) + (1-\alpha)\Big(\tfrac{v_i}{v_{\max}}\Big) \)</div>
      <p><strong>Retargeting (simple rule):</strong> while tracking target \(j\), switch to \(i\) if \(S_i \ge S_j + \delta\). Add a minimum binding time to avoid oscillations.</p>
      <h3>Data explained</h3>
      <ul>
        <li><strong>Currents:</strong> surface current vectors from your OpenDrift reader at vessel/patch positions.</li>
        <li><strong>Values:</strong> proportional to initial patch size (fixed per hotspot in the run).</li>
        <li><strong>Parameters:</strong> \(\alpha\in[0,1]\) tradeâ€‘off; \(\delta\in[0,0.2]\) hysteresis; \(\varepsilon\) collection radius; \(\Delta t\) time step.</li>
      </ul>
    </div>
  </section>

  <!-- LOGIC -->
  <section id="logic">
    <div class="card">
      <h2>ğŸ§  Greedy logic</h2>
      <ol>
        <li>Compute score for all active hotspots</li>
        <li>Select best; if already tracking another, apply retargeting rule</li>
        <li>Move towards current target with drift</li>
        <li>Collect if within radius; remove and repeat</li>
      </ol>
      <div class="equation"><em>Tip:</em> Recompute every step for reactive behaviour; or less often for smoother tracks.</div>
      <h3>Î± slider (visual only)</h3>
      <label for="alphaRange">Adjust Î±: <strong><span id="alphaValue">0.50</span></strong></label>
      <input id="alphaRange" type="range" min="0" max="1" step="0.01" value="0.5" oninput="updateAlpha(this.value)" style="width:100%"/>
    </div>
  </section>

  <!-- COMPARISON -->
  <section id="comparison">
    <div class="card">
      <h2>ğŸ“Š Alpha comparison</h2>
      <div class="media"><img src="AlphaVgl.png" alt="Alpha comparison" style="object-fit:cover"></div>
    </div>
  </section>

  <!-- VIDEO -->
  <section id="video">
    <div class="card">
      <h2>ğŸ¥ Simulation video</h2>
      <div class="media">
        <video controls>
          <source src="neu.mov" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
  </section>

  <!-- PAPER -->
  <section id="paper">
    <div class="card">
      <h2>ğŸ“„ Full paper</h2>
      <div class="media" style="padding-bottom:120%">
        <embed src="Reactive_Planning_for_Marine_Debris_Collection_in_Dynamic_Ocean_Environments_Paper.pdf" type="application/pdf" />
      </div>
    </div>
  </section>

  <!-- COMMENTS -->
  <section id="comments">
    <div class="card">
      <h2>ğŸ’¬ Comments</h2>
      <p class="muted">Stored locally in your browser. No server.</p>
      <div style="display:flex;gap:8px">
        <input id="commentInput" type="text" placeholder="Leave a commentâ€¦" style="flex:1;background:#0b1220;color:#e5e7eb;border:1px solid #22345a;border-radius:10px;padding:10px"/>
        <button onclick="addComment()" style="background:#0d162b;color:#cfe2ff;border:1px solid #23406e;border-radius:10px;padding:10px 14px;cursor:pointer">Submit</button>
      </div>
      <div id="commentList" style="margin-top:12px"></div>
      <div style="margin-top:8px"><button onclick="clearComments()" style="background:transparent;color:#9fb3e3;border:1px dashed #2b364d;border-radius:10px;padding:8px 12px;cursor:pointer">Clear all</button></div>
    </div>
  </section>
</main>

<footer style="max-width:1200px;margin:0 auto;color:#9fb3e3;padding:20px 16px 60px;border-top:1px solid #172036">
  <p><strong>Paulina Heine</strong> Â· August 2025 Â· GitHub Pages</p>
</footer>

<script>
  // Tabs
  const tabs = document.querySelectorAll('nav.tabs button');
  const sections = [...document.querySelectorAll('main section')];
  tabs.forEach(btn => btn.addEventListener('click', ()=>activateTab(btn.dataset.tab)));
  function activateTab(id){
    tabs.forEach(b=>b.classList.toggle('active', b.dataset.tab===id));
    sections.forEach(s=>s.classList.toggle('active', s.id===id));
    history.replaceState(null, '', '#'+id);
    window.scrollTo({top: document.querySelector('nav.tabs').offsetTop, behavior:'smooth'});
  }
  window.addEventListener('load', ()=>{ const h = location.hash.replace('#',''); if(h && document.getElementById(h)) activateTab(h); });

  // Î± slider display
  function updateAlpha(a){ document.getElementById('alphaValue').textContent = (+a).toFixed(2); }

  // Comments (localStorage)
  const list = document.getElementById('commentList');
  function addComment(){
    const input = document.getElementById('commentInput');
    const txt = input.value.trim();
    if(!txt) return;
    const comments = JSON.parse(localStorage.getItem('comments')||'[]');
    comments.push({t: Date.now(), text: txt});
    localStorage.setItem('comments', JSON.stringify(comments));
    input.value='';
    renderComments();
  }
  function clearComments(){ localStorage.removeItem('comments'); renderComments(); }
  function renderComments(){
    list.innerHTML='';
    const comments = JSON.parse(localStorage.getItem('comments')||'[]');
    comments.slice().reverse().forEach(c=>{
      const div = document.createElement('div');
      div.style.cssText='background:#0d1831;border-left:4px solid #4ea0ff;padding:10px;border-radius:8px;margin:8px 0;';
      div.innerHTML=`<strong>${new Date(c.t).toLocaleString()}</strong><br>${escapeHtml(c.text)}`;
      list.appendChild(div);
    });
  }
  function escapeHtml(s){ return s.replace(/[&<>\"]/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"}[m])); }
  window.addEventListener('load', renderComments);
</script>

</body>
</html>
